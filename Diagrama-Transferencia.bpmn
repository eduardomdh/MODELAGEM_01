<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_1cig5qq" targetNamespace="http://bpmn.io/schema/bpmn" exporter="bpmn-js (https://demo.bpmn.io)" exporterVersion="18.6.1">
  <bpmn:collaboration id="Collaboration_11kppl3">
    <bpmn:participant id="Participant_11iw9hn" name="Usuario" processRef="Process_0w4ot9p" />
    <bpmn:participant id="Participant_0cv7uq6" name="Sistema" processRef="Process_1o8nyur" />
    <bpmn:participant id="Participant_0j32rkm" processRef="Process_1a2eam2" />
    <bpmn:participant id="Participant_0acasw4" name="Usuario" processRef="Process_0ar6icj" />
    <bpmn:participant id="Participant_18xg4p0" name="Sistema" processRef="Process_0mgkza7" />
    <bpmn:participant id="Participant_0o3p6qs" processRef="Process_0uf5dqt" />
    <bpmn:messageFlow id="Flow_06evrde" sourceRef="Activity_105uwyu" targetRef="Event_0itqppv" />
    <bpmn:messageFlow id="Flow_1djk3z7" sourceRef="Activity_1apue6n" targetRef="Activity_06tsic2" />
    <bpmn:messageFlow id="Flow_0dt7sjz" sourceRef="Activity_0whysw3" targetRef="Activity_0zg782u" />
  </bpmn:collaboration>
  <bpmn:process id="Process_0w4ot9p" isExecutable="false">
    <bpmn:startEvent id="Event_0itqppv" name="Gerar QR code" />
  </bpmn:process>
  <bpmn:process id="Process_1o8nyur">
    <bpmn:task id="Activity_105uwyu" name="Chamar API Assas">
      <bpmn:outgoing>Flow_1bbcury</bpmn:outgoing>
    </bpmn:task>
    <bpmn:exclusiveGateway id="Gateway_0zh1p9w" name="Aguardar Webhook">
      <bpmn:incoming>Flow_1bbcury</bpmn:incoming>
      <bpmn:outgoing>Flow_0srcvm2</bpmn:outgoing>
      <bpmn:outgoing>Flow_1a5961e</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:task id="Activity_04pnfsl" name="Falha no Pagamento">
      <bpmn:incoming>Flow_1a5961e</bpmn:incoming>
      <bpmn:outgoing>Flow_1ajiust</bpmn:outgoing>
    </bpmn:task>
    <bpmn:endEvent id="Event_0ropv2o" name="Atualizar saldo">
      <bpmn:incoming>Flow_1j2qqti</bpmn:incoming>
      <bpmn:property id="Property_0vp5suv" name="__targetRef_placeholder" />
      <bpmn:dataInputAssociation id="DataInputAssociation_0f4aa89">
        <bpmn:sourceRef>DataStoreReference_06r8r0z</bpmn:sourceRef>
        <bpmn:targetRef>Property_0vp5suv</bpmn:targetRef>
      </bpmn:dataInputAssociation>
    </bpmn:endEvent>
    <bpmn:task id="Activity_06vgtp7" name="Pagamento Realizado">
      <bpmn:incoming>Flow_0srcvm2</bpmn:incoming>
      <bpmn:outgoing>Flow_1j2qqti</bpmn:outgoing>
    </bpmn:task>
    <bpmn:endEvent id="Event_1nrdpi7" name="Fim">
      <bpmn:incoming>Flow_1ajiust</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_1bbcury" sourceRef="Activity_105uwyu" targetRef="Gateway_0zh1p9w" />
    <bpmn:sequenceFlow id="Flow_0srcvm2" name="Sim" sourceRef="Gateway_0zh1p9w" targetRef="Activity_06vgtp7" />
    <bpmn:sequenceFlow id="Flow_1a5961e" name="Não" sourceRef="Gateway_0zh1p9w" targetRef="Activity_04pnfsl" />
    <bpmn:sequenceFlow id="Flow_1ajiust" sourceRef="Activity_04pnfsl" targetRef="Event_1nrdpi7" />
    <bpmn:sequenceFlow id="Flow_1j2qqti" sourceRef="Activity_06vgtp7" targetRef="Event_0ropv2o" />
  </bpmn:process>
  <bpmn:process id="Process_1a2eam2">
    <bpmn:dataStoreReference id="DataStoreReference_06r8r0z" name="Saldo atualizado" />
  </bpmn:process>
  <bpmn:process id="Process_0ar6icj" isExecutable="false">
    <bpmn:startEvent id="Event_1t7lr92" name="Saida transferência">
      <bpmn:outgoing>Flow_0cs0ovs</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:task id="Activity_0whysw3" name="Valor e Confirmar">
      <bpmn:incoming>Flow_0cs0ovs</bpmn:incoming>
    </bpmn:task>
    <bpmn:task id="Activity_06tsic2" name="Informa o usuário sobre Saldo insuficiente" />
    <bpmn:sequenceFlow id="Flow_0cs0ovs" sourceRef="Event_1t7lr92" targetRef="Activity_0whysw3" />
  </bpmn:process>
  <bpmn:process id="Process_0mgkza7">
    <bpmn:endEvent id="Event_0sm4rgx" name="Acabou">
      <bpmn:incoming>Flow_0vwuv5o</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:task id="Activity_18tisd6" name="Reter 7% do Valor">
      <bpmn:incoming>Flow_0polc6h</bpmn:incoming>
      <bpmn:outgoing>Flow_0zh1awh</bpmn:outgoing>
    </bpmn:task>
    <bpmn:task id="Activity_0zg782u" name="Cosultar saldo">
      <bpmn:outgoing>Flow_0k8d7mh</bpmn:outgoing>
    </bpmn:task>
    <bpmn:exclusiveGateway id="Gateway_198ngh9">
      <bpmn:incoming>Flow_0k8d7mh</bpmn:incoming>
      <bpmn:outgoing>Flow_0vja5st</bpmn:outgoing>
      <bpmn:outgoing>Flow_0polc6h</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:endEvent id="Event_0zs4pna" name="Transferência Realizada">
      <bpmn:incoming>Flow_0zh1awh</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:task id="Activity_1apue6n" name="Saldo insufiente">
      <bpmn:incoming>Flow_0vja5st</bpmn:incoming>
      <bpmn:outgoing>Flow_0vwuv5o</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_0vwuv5o" sourceRef="Activity_1apue6n" targetRef="Event_0sm4rgx" />
    <bpmn:sequenceFlow id="Flow_0polc6h" name="Sim" sourceRef="Gateway_198ngh9" targetRef="Activity_18tisd6" />
    <bpmn:sequenceFlow id="Flow_0zh1awh" sourceRef="Activity_18tisd6" targetRef="Event_0zs4pna" />
    <bpmn:sequenceFlow id="Flow_0k8d7mh" sourceRef="Activity_0zg782u" targetRef="Gateway_198ngh9" />
    <bpmn:sequenceFlow id="Flow_0vja5st" name="Não" sourceRef="Gateway_198ngh9" targetRef="Activity_1apue6n" />
  </bpmn:process>
  <bpmn:process id="Process_0uf5dqt" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_11kppl3">
      <bpmndi:BPMNShape id="Participant_11iw9hn_di" bpmnElement="Participant_11iw9hn" isHorizontal="true">
        <dc:Bounds x="156" y="62" width="934" height="378" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0itqppv_di" bpmnElement="Event_0itqppv">
        <dc:Bounds x="232" y="112" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="212" y="88" width="75" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_0cv7uq6_di" bpmnElement="Participant_0cv7uq6" isHorizontal="true">
        <dc:Bounds x="156" y="440" width="934" height="350" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_105uwyu_di" bpmnElement="Activity_105uwyu">
        <dc:Bounds x="210" y="490" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0zh1p9w_di" bpmnElement="Gateway_0zh1p9w" isMarkerVisible="true">
        <dc:Bounds x="365" y="505" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="367" y="467.5" width="46" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_04pnfsl_di" bpmnElement="Activity_04pnfsl">
        <dc:Bounds x="340" y="640" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0ropv2o_di" bpmnElement="Event_0ropv2o">
        <dc:Bounds x="792" y="512" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="774" y="488" width="72" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_06vgtp7_di" bpmnElement="Activity_06vgtp7">
        <dc:Bounds x="570" y="490" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1nrdpi7_di" bpmnElement="Event_1nrdpi7">
        <dc:Bounds x="592" y="662" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="601" y="705" width="19" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1bbcury_di" bpmnElement="Flow_1bbcury">
        <di:waypoint x="310" y="530" />
        <di:waypoint x="365" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0srcvm2_di" bpmnElement="Flow_0srcvm2">
        <di:waypoint x="415" y="530" />
        <di:waypoint x="570" y="530" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="484" y="512" width="19" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1a5961e_di" bpmnElement="Flow_1a5961e">
        <di:waypoint x="390" y="555" />
        <di:waypoint x="390" y="640" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="395" y="595" width="21" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ajiust_di" bpmnElement="Flow_1ajiust">
        <di:waypoint x="440" y="680" />
        <di:waypoint x="592" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1j2qqti_di" bpmnElement="Flow_1j2qqti">
        <di:waypoint x="670" y="530" />
        <di:waypoint x="792" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Participant_0j32rkm_di" bpmnElement="Participant_0j32rkm" isHorizontal="true">
        <dc:Bounds x="156" y="790" width="934" height="280" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataStoreReference_06r8r0z_di" bpmnElement="DataStoreReference_06r8r0z">
        <dc:Bounds x="785" y="885" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="769" y="942" width="82" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1ge21l5" bpmnElement="Participant_0acasw4" isHorizontal="true">
        <dc:Bounds x="1240" y="62" width="934" height="378" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1t7lr92_di" bpmnElement="Event_1t7lr92">
        <dc:Bounds x="1312" y="102" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1298" y="64.5" width="63" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0whysw3_di" bpmnElement="Activity_0whysw3">
        <dc:Bounds x="1280" y="250" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_06tsic2_di" bpmnElement="Activity_06tsic2">
        <dc:Bounds x="1470" y="250" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0cs0ovs_di" bpmnElement="Flow_0cs0ovs">
        <di:waypoint x="1330" y="138" />
        <di:waypoint x="1330" y="250" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="BPMNShape_1f7issq" bpmnElement="Participant_18xg4p0" isHorizontal="true">
        <dc:Bounds x="1240" y="380" width="934" height="410" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0sm4rgx_di" bpmnElement="Event_0sm4rgx">
        <dc:Bounds x="1842" y="492" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1842" y="535" width="37" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_18tisd6_di" bpmnElement="Activity_18tisd6">
        <dc:Bounds x="1600" y="630" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0zg782u_di" bpmnElement="Activity_0zg782u">
        <dc:Bounds x="1280" y="530" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_198ngh9_di" bpmnElement="Gateway_198ngh9" isMarkerVisible="true">
        <dc:Bounds x="1455" y="545" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0zs4pna_di" bpmnElement="Event_0zs4pna">
        <dc:Bounds x="1802" y="652" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1787" y="695" width="66" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1apue6n_di" bpmnElement="Activity_1apue6n">
        <dc:Bounds x="1530" y="460" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0vwuv5o_di" bpmnElement="Flow_0vwuv5o">
        <di:waypoint x="1630" y="500" />
        <di:waypoint x="1796" y="500" />
        <di:waypoint x="1796" y="510" />
        <di:waypoint x="1842" y="510" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0k8d7mh_di" bpmnElement="Flow_0k8d7mh">
        <di:waypoint x="1380" y="570" />
        <di:waypoint x="1455" y="570" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0vja5st_di" bpmnElement="Flow_0vja5st">
        <di:waypoint x="1480" y="545" />
        <di:waypoint x="1480" y="500" />
        <di:waypoint x="1530" y="500" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1485" y="520" width="21" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0polc6h_di" bpmnElement="Flow_0polc6h">
        <di:waypoint x="1480" y="595" />
        <di:waypoint x="1480" y="670" />
        <di:waypoint x="1600" y="670" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1486" y="630" width="19" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0zh1awh_di" bpmnElement="Flow_0zh1awh">
        <di:waypoint x="1700" y="670" />
        <di:waypoint x="1802" y="670" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="BPMNShape_19u2jlk" bpmnElement="Participant_0o3p6qs" isHorizontal="true">
        <dc:Bounds x="1240" y="790" width="934" height="280" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_06evrde_di" bpmnElement="Flow_06evrde">
        <di:waypoint x="250" y="490" />
        <di:waypoint x="250" y="148" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataInputAssociation_0f4aa89_di" bpmnElement="DataInputAssociation_0f4aa89">
        <di:waypoint x="810" y="885" />
        <di:waypoint x="810" y="548" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1djk3z7_di" bpmnElement="Flow_1djk3z7">
        <di:waypoint x="1580" y="460" />
        <di:waypoint x="1580" y="395" />
        <di:waypoint x="1530" y="395" />
        <di:waypoint x="1530" y="330" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0dt7sjz_di" bpmnElement="Flow_0dt7sjz">
        <di:waypoint x="1330" y="330" />
        <di:waypoint x="1330" y="530" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
